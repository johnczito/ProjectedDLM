# ------------------------------------------------------------------------------
# load resources
# ------------------------------------------------------------------------------

source("helpers/_helpers.R")

library(circular)
library(CircSpaceTime)
library(coda)
library(rstan)

isbetween <- function(x, l, u){
  if(l <= u){
    above_lower = l <= x
    below_upper = x <= u
    return(above_lower * below_upper)
  } else {
    return(1 - (x < l) * (u < x))
  }
}

IL <- function(l, u){
  if(l <= u){
    return(u - l)
  } else {
    return(u + 2 * pi - l)
  }
}

# ------------------------------------------------------------------------------
# data
# ------------------------------------------------------------------------------

black_mountain_degrees <- read.csv("datasets/black_mountain_wind_direction.csv", header = FALSE)
black_mountain_radians <- degrees2radians(black_mountain_degrees$V1)
black_mountain_unit_circle <- radians2unitcircle(black_mountain_radians)
U <- black_mountain_unit_circle

# ------------------------------------------------------------------------------
# dimensions
# ------------------------------------------------------------------------------

n = 2
p = n
lags = 4
TT = length(black_mountain_radians)

# ------------------------------------------------------------------------------
# sampling settings
# ------------------------------------------------------------------------------

ndraw = 500
burn  = 0
thin  = 1

set.seed(8675309)

# ------------------------------------------------------------------------------
# PDLM prior
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# DLM prior
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# AR(p) prior
# ------------------------------------------------------------------------------